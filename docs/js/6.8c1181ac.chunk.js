(this["webpackJsonpmd-note"]=this["webpackJsonpmd-note"]||[]).push([[6],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(62),i=a(70),s=a(63),l=a(66),r=a(13),m=a(55),d=a(56),u=a(58),_=function(){var e=Object(u.a)((function(e){return[e.theme,e.setTheme]})),t=e.theme,a=e.setTheme;return o.a.createElement("span",{onClick:function(){a("dark"===t?"light":"dark")}},"light"===t?o.a.createElement(m.a,{icon:d.k}):o.a.createElement(m.a,{icon:d.i}))},f=a(67),p=a(99),v=a.n(p),E=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=Object(n.useState)(!1),i=Object(r.a)(a,2),s=i[0],l=i[1],u=Object(n.useState)(!1),p=Object(r.a)(u,2),E=p[0],h=p[1],L=Object(c.a)((function(e){return[e.clearCache,e.noteList,e.updateNoteList]})),N=L.clearCache,g=L.noteList,b=L.updateNoteList,k=function(e){var t,a=null===(t=e.target.files)||void 0===t?void 0:t[0],n=new FileReader;n.readAsText(a),n.onload=function(e){var t,a=null===(t=e.target)||void 0===t?void 0:t.result;try{var n=JSON.parse(a||"");if(!n||0===n.length||!Array.isArray(n))return;var o=n[0];Object.keys(o).some((function(e){return!o[e]}))||b(n)}catch(c){console.error("\u5bfc\u5165\u6587\u4ef6\u5931\u8d25\uff01",c),alert("\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e\uff01")}}};return o.a.createElement("div",{className:v.a["home-tools"]},o.a.createElement(_,null),o.a.createElement(m.a,{className:v.a.setting,icon:d.e,onClick:function(e){e.stopPropagation(),l(!0)}}),o.a.createElement(f.a,{visible:s,title:"\u8bbe\u7f6e",wrapperClassName:v.a.wrapper,onClose:function(){return l(!1)}},o.a.createElement("section",{className:v.a.content},o.a.createElement("div",{className:v.a.item,onClick:function(e){e.stopPropagation(),N(),setTimeout((function(){alert("\u7f13\u5b58\u6e05\u7406\u6210\u529f\uff01"),l(!1)}),0)}},"\u6e05\u7f13\u5b58"),o.a.createElement("div",{className:v.a.item,onClick:function(t){if(t.stopPropagation(),!E){h(!0);var a=window.URL,n=new Blob([JSON.stringify(g)],{type:"application/json"});e.current.href=a.createObjectURL(n),setTimeout((function(){e.current.click(),h(!1),l(!1)}),0)}}},o.a.createElement("a",{ref:e,href:"href",download:"md-note\u5907\u4efd.json",hidden:!0}),"\u5bfc\u51fa\u5230\u6587\u4ef6(*.josn) ",E?"...":""),o.a.createElement("div",{className:v.a.item,onClick:function(e){var a,n;e.stopPropagation(),null===(a=t.current)||void 0===a||a.addEventListener("change",k),null===(n=t.current)||void 0===n||n.click()}},o.a.createElement("input",{ref:t,type:"file",accept:"application/json",hidden:!0}),"\u4ece\u6587\u4ef6\u5bfc\u5165(*.json)"))))},h=a(98),L=a.n(h);t.default=function(e){var t,a=Object(c.a)(),r=a.loading,m=a.noteList,d=Object(s.a)().scrollTop;Object(n.useEffect)((function(){u()}),[]);var u=function(){var t=e.scrollRestore();setTimeout((function(){document.body.scrollTop=t||0,document.documentElement.scrollTop=t||0}),0)},_=function(){e.beforeRouteLeave(d,{})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{className:L.a.header},o.a.createElement("div",{className:"center-content content"},o.a.createElement("span",null,"MD-NOTE"),o.a.createElement(E,null))),o.a.createElement("main",{className:"center-content ".concat(L.a["note-list"])},o.a.createElement("section",{id:r?L.a.skeleton:"",className:L.a.container},(null===m||void 0===m?void 0:m.length)>0?null===m||void 0===m||null===(t=m.map)||void 0===t?void 0:t.call(m,(function(e,t){return o.a.createElement("a",{className:"link ".concat(L.a["note-item"]),key:"".concat(e.tag,"-").concat(e.tid),href:"./#/detail/".concat(e.tag,"/").concat(e.tid),onClick:_},o.a.createElement("div",{className:L.a["item-date"]},o.a.createElement("div",{className:L.a.time},e.date.substr(11,5)),o.a.createElement("div",{className:L.a.date},e.date.substr(5,5))),o.a.createElement("div",{className:L.a["item-desc"]},o.a.createElement("span",{className:L.a.tag},e.tag),e.desc))})):o.a.createElement("div",null,"\u6ca1\u6709\u6570\u636e")),o.a.createElement(i.a,{className:L.a.iframe},o.a.createElement("iframe",{src:"https://zero9527.github.io/vue-calendar",className:L.a.calendar}),o.a.createElement("div",{className:L.a.mask}))))}},98:function(e,t,a){e.exports={"note-list":"noteList_note-list__Fam2w",add:"noteList_add__u0lP1",header:"noteList_header__3RY1r",container:"noteList_container__1WzjR","note-item":"noteList_note-item__2tDXJ","item-date":"noteList_item-date__2d5pd",time:"noteList_time__1eDmB",date:"noteList_date__3z7yY","item-desc":"noteList_item-desc__2pf3i",tag:"noteList_tag__3sPyx",skeleton:"noteList_skeleton__3OL71","item-month":"noteList_item-month__1eENs",loading:"noteList_loading__2b5RR",iframe:"noteList_iframe__9QERC",calendar:"noteList_calendar__1jIYK",mask:"noteList_mask__3Y-hC"}},99:function(e,t,a){e.exports={"home-tools":"Tools_home-tools__DybrX",setting:"Tools_setting__Yd_F9",wrapper:"Tools_wrapper__2jnU8",content:"Tools_content__3HLk1",item:"Tools_item__cFLmv",show:"Tools_show__NAxc5"}}}]);