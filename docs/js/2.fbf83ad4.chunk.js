(this["webpackJsonpmd-note"]=this["webpackJsonpmd-note"]||[]).push([[2],{74:function(e,t,n){e.exports={skeleton:"styles_skeleton__2siEy",title:"styles_title__1WYtF",tag:"styles_tag__3vUJE",time:"styles_time__vH7MP",loading:"styles_loading__2e0Jq","note-list":"styles_note-list__29jhU",add:"styles_add__1C2nG",header:"styles_header__1gvul",desc:"styles_desc__3HC6z",tags:"styles_tags__1yT8p",container:"styles_container__GXx7G",item:"styles_item__2zgGD","reach-bottom":"styles_reach-bottom__1eaRc"}},77:function(e,t,n){e.exports={"home-tools":"styles_home-tools__1PwEE",setting:"styles_setting__3HoBT",wrapper:"styles_wrapper__1GlOL",content:"styles_content__WjJal",item:"styles_item__2tqI9",show:"styles_show__mWgv2"}},78:function(e,t,n){e.exports={color:"styles_color__1V7II",theme:"styles_theme__1mevQ"}},79:function(e,t,n){e.exports={tags:"styles_tags__1oRlF",tag:"styles_tag__2AsAH",count:"styles_count__3fMtZ",active:"styles_active__21hYS"}},84:function(e,t,n){e.exports={"right-panel":"styles_right-panel__A1FpO","single-spa-clock":"styles_single-spa-clock__1DRhF","single-spa-calendar":"styles_single-spa-calendar__3Xkrg",footer:"styles_footer__Fit9C"}},93:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=function(e){var t,n=e.name,c=e.maxLength,o=void 0===c?5:c,l=e.store,r=void 0===l?window:l,s=e.children,i="__keep_alive_cache__",u="function"===typeof s;Object(a.useEffect)((function(){u||console.warn('children\u4f20\u9012\u51fd\u6570\uff0c\u5982:\n <KeepAlive name="list">{(props) => <List {...props} />}</KeepAlive>')}),[]);var m=function(e,t,a){var c=r[i].findIndex((function(e){return e.name===n}));-1!==c?r[i].splice(c,1,{name:n,cache:e,scrollTop:t,state:a}):r[i].unshift({name:n,cache:e,scrollTop:t,state:a}),r[i].length>o&&r[i].pop()},_=function(){return r[i]||(r[i]=[]),r[i].find((function(e){return e.name===n}))||null},f={beforeRouteLeave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;m((function(){return s(f)}),e,t)},scrollRestore:function(){var e=_();return(null===e||void 0===e?void 0:e.scrollTop)||null},stateRestore:function(){var e=_();return(null===e||void 0===e?void 0:e.state)||null},deleteCache:function(){var e=r[i].findIndex((function(e){return e.name===n}));-1!==e&&(r[i].splice(e,1),console.log("deleteCache-name: ".concat(n)))},getKeepAlive:function(){return _()}};return null!==(t=function(){r[i]||(r[i]=[]);var e=r[i].find((function(e){return e.name===n}));return(null===e||void 0===e?void 0:e.cache())||null}())&&void 0!==t?t:u&&s(f)},l=n(57),r=n(24),s=n(66),i=n(14),u=n(5),m=n(67),_=n(58),f=n(65),d=n(78),g=n.n(d),p=function(){var e=Object(l.a)((function(e){return[e.theme,e.setTheme]})),t=e.theme,n=e.setTheme;return c.a.createElement("span",null,[{text:"\u767d\u5170",color:"blue"},{text:"\u6697\u591c",color:"dark"},{text:"\u6a58\u6a59",color:"orange"},{text:"\u5c0f\u7ea2",color:"red"},{text:"\u6d45\u7eff",color:"green"},{text:"\u5a9a\u7d2b",color:"purple"}].map((function(e){return c.a.createElement("span",{key:e.color,className:"".concat(g.a.color," ").concat(e.color===t?g.a.theme:""),onClick:function(){return t=e.color,void n(t);var t}},e.text,"\xa0")})))},v=n(77),h=n.n(v),E=function(){return c.a.createElement("div",{className:h.a["home-tools"]},c.a.createElement(p,null))},y=n(68),b=n(31),k=n(84),T=n.n(k),N=n(79),O=n.n(N),j=function(e){var t=e.tags,n=e.currentTag,a=e.className,o=e.onTagChange,l=function(e){return n||"\u5168\u90e8"!==e.name?e.name.split(",").some((function(e){return e===(null===n||void 0===n?void 0:n.name)}))?O.a.active:"":O.a.active};return c.a.createElement("div",{className:"".concat(O.a.tags," ").concat(a||"")},c.a.createElement("span",null,"\u6807\u7b7e\uff1a"),t.map((function(e,t){return c.a.createElement("span",{key:e.name,className:"".concat(O.a.tag," ").concat(l(e)),title:"".concat(e.name,": ").concat(e.count),onClick:function(){return o(0===t?void 0:e)}},c.a.createElement("span",null,e.name||"\u5168\u90e8"),c.a.createElement("span",{className:O.a.count},e.count>99?"99+":e.count))})))},w=function(e){var t=e.tags,n=e.currentTag,o=e.onTagChange,l=Object(_.a)(),r=l.scrollTop,s=l.prevScrollTop;Object(a.useEffect)((function(){i("@vue-mf/clock","app-clock"),i("@vue-mf/calendar","app-calendar")}),[]);var i=function(e,t){var n=window.System.import(e),a=document.getElementById(t);Object(b.mountParcel)(n,{domElement:a})};return c.a.createElement(y.a,{className:T.a["right-panel"],style:{marginTop:r>50&&r>s?"0":""}},c.a.createElement("div",{id:"app-clock",className:T.a["single-spa-clock"]}),c.a.createElement("div",{id:"app-calendar",className:T.a["single-spa-calendar"]}),c.a.createElement(j,{tags:t,currentTag:n,onTagChange:o}),c.a.createElement("div",{className:T.a.footer},c.a.createElement((function(){return c.a.createElement("a",{href:"http://www.beian.miit.gov.cn/",target:"__blank",title:"\u5907\u6848\u53f7"},"\u7ca4ICP\u590720014593\u53f7-1")}),null),c.a.createElement((function(){return c.a.createElement("div",null,"@2020\xa0",c.a.createElement("a",{href:"https://github.com/zero9527",target:"__blank",title:"github"},"zero9527"))}),null)))},x=n(69),C=n(74),R=n.n(C),I=function(e){var t,n=Object(_.a)().scrollTop,o=Object(m.a)(),r=o.loading,d=o.noteList,g=Object(l.a)((function(e){return[e.stickyRightStyle]})).stickyRightStyle,p=Object(a.useState)([]),v=Object(i.a)(p,2),h=v[0],y=v[1],b=Object(a.useState)(),k=Object(i.a)(b,2),T=k[0],N=k[1];Object(a.useEffect)((function(){y(d)}),[d]),Object(a.useEffect)((function(){y(T?function(){return d.filter((function(e){return e.tag.split(",").some((function(e){return e.trim()===T.name}))}))}:d)}),[T]),Object(a.useEffect)((function(){O()}),[]);var O=function(){var t=e.scrollRestore(),n=e.stateRestore();y((null===n||void 0===n?void 0:n.noteList)||d),N(null===n||void 0===n?void 0:n.currentTag),setTimeout((function(){document.body.scrollTop=t||0,document.documentElement.scrollTop=t||0}),0)},C=Object(a.useMemo)((function(){var e;if(!(null===(e=d[0])||void 0===e?void 0:e.name))return[{name:"\u5168\u90e8",count:d.length}];var t=d.reduce((function(e,t){return t.tag.split(",").map((function(e){return e.trim()})).forEach((function(t){var n=e.filter((function(e){return e.name===t}));n.length?n.forEach((function(e){return e.count++})):e.push({name:t,count:1})})),e}),[]);return t.sort((function(e,t){return t.count-e.count})),[{name:"\u5168\u90e8",count:d.length}].concat(Object(s.a)(t))}),[d]),I=function(e){N(e)},L=function(){e.beforeRouteLeave(n,{noteList:h,currentTag:T})},A=Object(a.useMemo)((function(){return n>window.innerHeight}),[n]),F=function(){return c.a.createElement("div",{className:R.a["reach-bottom"]},c.a.createElement("span",null,"\u5230\u5e95\u4e86"))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{className:R.a.header},c.a.createElement("div",{className:"center-content content"},c.a.createElement("div",null,"MD-NOTE",c.a.createElement("span",{className:R.a.desc},"\uff1a\u4e00\u4e2a\u4f7f\u7528 markdown \u7684\u7b80\u6613\u535a\u5ba2")),c.a.createElement(E,null))),c.a.createElement("main",{className:"center-content ".concat(R.a["note-list"])},c.a.createElement(j,{className:R.a.tags,tags:C,currentTag:T,onTagChange:I}),c.a.createElement("section",{id:r?R.a.skeleton:"",className:"container ".concat(R.a.container)},(null===h||void 0===h?void 0:h.length)>0?c.a.createElement(c.a.Fragment,null,null===h||void 0===h||null===(t=h.map)||void 0===t?void 0:t.call(h,(function(e){return c.a.createElement(u.Link,{key:"".concat(e.tag,"-").concat(e.name),to:"/detail/".concat(e.tag.split(",")[0],"/").concat(e.name),className:"link ".concat(R.a.item),onClick:L},c.a.createElement("div",{className:R.a.title},e.title),c.a.createElement("div",{className:R.a.desc},c.a.createElement("span",{className:R.a.tag},"\u6807\u7b7e\uff1a",c.a.createElement("span",null,e.tag)),c.a.createElement("span",{className:R.a.time},"\u521b\u5efa\u65f6\u95f4\uff1a",e.create_time)))})),c.a.createElement(F,null)):c.a.createElement(F,null)),A&&c.a.createElement(x.a,{position:g})),c.a.createElement(w,{tags:C,currentTag:T,onTagChange:I}))};t.default=function(){var e=Object(l.a)((function(e){return[e.setIsMobile]})).setIsMobile;return Object(a.useEffect)((function(){var t=r.a.test(window.navigator.userAgent);e(t)}),[]),c.a.createElement(o,{name:"list"},(function(e){return c.a.createElement(I,e)}))}}}]);