webpackJsonp([4],{62:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t(17),a=t(0),r=(t.n(a),t(95)),i=t.n(r),o=a.useState,u=a.useEffect,c=a.useMemo;n.default=function(){var e=o(!1),n=e[0],t=e[1],r=o([""]),s=r[0],m=r[1],p=o([{type:"",label:"0"}]),b=p[0],y=p[1],f=o(0),_=f[0],d=f[1],h=o(!1),x=h[0],g=h[1],k=["0","1","2","3","4","5","6","7","8","9"];function E(e){void 0===e&&(e=!0);var n="",t=v(),l=t.num0,a=t.num1,r=t.char;if("add"===r.type&&(n=+l+ +a),"minus"===r.type&&(n=+l-+a),"mul"===r.type&&(n=+l*+a),"divide"===r.type&&(n=+l/+a),"residue"===r.type&&(n=+l%+a),d(+n),e){y([{type:"number",label:n+""}]);var i=s,o=b.map(function(e){return e.label}).join("");i.push(o+" = "+_),m(i)}return{type:"number",label:n+""}}function v(){var e=b.findIndex(function(e){return"number"!==e.type});if(e>=0&&e!==b.length-1){var n=[b.slice(0,e).map(function(e){return e.label}),b.slice(e+1,b.length).map(function(e){return e.label})],t=b.slice(e,e+1)[0];return{num0:n[0].reduce(function(e,n){return e+n},""),num1:n[1].reduce(function(e,n){return e+n},""),char:t}}return e<0?{num0:b.reduce(function(e,n){return e+n.label},""),num1:"",char:{type:"",label:"0"}}:e===b.length-1?(b.pop(),{num0:b.reduce(function(e,n){return e+n.label},""),num1:"",char:{type:"",label:"0"}}):{num0:"",num1:"",char:{type:"number",label:"0"}}}return u(function(){},[]),c(function(){console.log("show: ",JSON.stringify(b))},[b]),a.createElement("div",{className:i.a.caculator},a.createElement("section",{className:i.a.display},a.createElement("div",{className:i.a.title},a.createElement("span",null,"\u7b80\u6613\u8ba1\u7b97\u5668"),a.createElement("span",{onClick:function(){return t(!0)}},"\u5386\u53f2\u7eaa\u5f55")),a.createElement("div",{className:i.a["number-block"]},b.map(function(e,n){return a.createElement("span",{key:n,className:"number"===e.type?i.a.number:i.a.char},e.label)})),a.createElement("div",{className:i.a.result},_),a.createElement("div",{className:i.a.textinfo},"\u221a\uff0cx\xb2\uff0c\xb9/x\uff1a\u8fd9\u51e0\u4e2a\u8bf7\u5148\u8f93\u5165\u6570\u5b57\u518d\u8fd0\u7b97\uff01")),n&&a.createElement("section",{className:i.a.history},a.createElement("div",{className:i.a["history-content"]},s.map(function(e,n){return a.createElement("div",{key:n},e)}),a.createElement("div",{className:i.a.close,onClick:function(){return t(!1)}},"\u5173\u95ed"))),a.createElement("section",{className:i.a["num-content"]},[[{type:"residue",label:"%"},{type:"sqrt",label:"\u221a"},{type:"square",label:"x\xb2"},{type:"fraction-of",label:"\xb9/x"}],[{type:"CE",label:"CE"},{type:"C",label:"C"},{type:"DELETE",label:"DELETE"},{type:"divide",label:"\xf7"}],[{type:"number",label:"7"},{type:"number",label:"8"},{type:"number",label:"9"},{type:"mul",label:"x"}],[{type:"number",label:"4"},{type:"number",label:"5"},{type:"number",label:"6"},{type:"minus",label:"-"}],[{type:"number",label:"1"},{type:"number",label:"2"},{type:"number",label:"3"},{type:"add",label:"+"}],[{type:"pm",label:"\xb1"},{type:"number",label:"0"},{type:"number",label:"."},{type:"equal",label:"="}]].map(function(e,n){return a.createElement("div",{className:i.a["num-block"],key:n},e.map(function(e,n){return a.createElement("span",{key:n,className:i.a["btn-item"]+" "+(k.includes(e.label)?i.a["num-item"]:""),onClick:function(){return function(e){return l.a(this,void 0,void 0,function(){var n,t,a,r,i;return l.c(this,function(l){switch(l.label){case 0:return n=b,t=["add","minus","mul","divide","residue"],["sqrt","square","fraction-of"].includes(e.type)&&""!==n[0].label?("number"!==n[n.length-1].type&&n.pop(),"number"===n[n.length-1].type&&n.find(function(e){return"number"!==e.type})?(i=E(),[4,y([i])]):[3,2]):[3,3];case 1:l.sent(),l.label=2;case 2:a=v().num0,r={sqrt:{result:Math.sqrt(+a),show:[{type:"number",label:""+Math.sqrt(+a)}]},square:{result:+a*+a,show:[{type:"number",label:""+ +a*+a}]},"fraction-of":{result:1/+a,show:[{type:"number",label:""+1/+a}]}},d(r[e.type].result),y(r[e.type].show),l.label=3;case 3:if(t.includes(e.type)&&"number"===n[0].type&&(g(!1),"number"!==n[b.length-1].type?(n[b.length-1]=e,y(n.slice())):n.find(function(e){return"number"!==e.type})?(i=E(),y([i,e])):"."===n[b.length-1].label?(n.pop(),y(n.slice())):(n.push(e),y(b.slice()))),"C"===e.type&&(n.length=0,d(0),y([{type:"",label:"0"}])),"DELETE"===e.type&&(n.length>1?n.pop():n=[{type:"",label:"0"}],y(n.slice())),"number"===e.type){if(x)return d(+e.label),y([e]),g(!1),[2];"0"===n[0].label?n[0]=e:n.push(e),y(n.slice()),n.find(function(e){return"number"!==e.type})&&"number"===n[n.length-1].type&&E(!1)}if("equal"===e.type){if("number"!==n[n.length-1].type||!n.find(function(e){return"number"!==e.type}))return[2];E(),g(!0)}return[2]}})})}(e)}},e.label)}))})))}},95:function(e,n,t){var l=t(96);"string"===typeof l&&(l=[[e.i,l,""]]);var a={hmr:!0,transform:void 0};t(9)(l,a);l.locals&&(e.exports=l.locals)},96:function(e,n,t){(n=e.exports=t(8)(void 0)).push([e.i,".caculator__1DngpO {\n  height: 100vh;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  color: #2b2b2b;\n  background: #fafafa; }\n\n.display__16vX4P {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 8px;\n  text-align: right;\n  font-size: 22px; }\n  .display__16vX4P .title__24hPgW {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: justify;\n        justify-content: space-between;\n    padding: 6px;\n    margin-bottom: 20px;\n    font-size: 18px; }\n  .display__16vX4P .number-block__2JzyMn {\n    padding: 0 6px;\n    background: #fff; }\n    .display__16vX4P .number-block__2JzyMn .number__uq7p15 {\n      display: inline-block; }\n    .display__16vX4P .number-block__2JzyMn .char__DdMdM6 {\n      margin: 0 2px; }\n  .display__16vX4P .result__3YWEcH {\n    padding: 0 6px;\n    padding-top: 20px;\n    color: #888;\n    background: #fff; }\n  .display__16vX4P .textinfo__7akZ0L {\n    padding: 6px;\n    color: #999;\n    font-size: 14px;\n    text-align: left; }\n\n.history__1Oyyy6 {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 10; }\n  .history__1Oyyy6 .history-content__3W5iVk {\n    width: 90%;\n    max-height: 80%;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    padding: 10px;\n    background: #fff; }\n    .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5 {\n      width: 100%;\n      display: block;\n      position: absolute;\n      bottom: -20px;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      padding: 10px;\n      text-align: center;\n      background: #fff;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n      .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5:active {\n        background: #fafafa; }\n      .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5::before {\n        content: '';\n        width: 100%;\n        height: 1px;\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        -webkit-transform: scale(1, 0.5);\n            -ms-transform: scale(1, 0.5);\n                transform: scale(1, 0.5);\n        background: #eee; }\n\n.num-content__2EUxaQ {\n  background: #fff; }\n  .num-content__2EUxaQ .num-block__oRueSE {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: justify;\n        justify-content: space-between; }\n    .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb {\n      -ms-flex: 1 1;\n          flex: 1 1;\n      padding: 16px 0;\n      text-align: center;\n      font-size: 20px;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n      border-top: 1px solid #eee;\n      background: #fafafa; }\n      .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb:not(:last-of-type) {\n        border-right: 1px solid #eee; }\n      .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb:active {\n        background: lightcyan; }\n    .num-content__2EUxaQ .num-block__oRueSE .num-item__3myDPg {\n      background: #fff; }\n",""]),n.locals={caculator:"caculator__1DngpO",display:"display__16vX4P",title:"title__24hPgW","number-block":"number-block__2JzyMn",number:"number__uq7p15",char:"char__DdMdM6",result:"result__3YWEcH",textinfo:"textinfo__7akZ0L",history:"history__1Oyyy6","history-content":"history-content__3W5iVk",close:"close__1TXiA5","num-content":"num-content__2EUxaQ","num-block":"num-block__oRueSE","btn-item":"btn-item__2606Hb","num-item":"num-item__3myDPg"}}});
//# sourceMappingURL=4.51ab0a84.chunk.js.map