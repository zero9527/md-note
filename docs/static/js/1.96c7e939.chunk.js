webpackJsonp([1],{57:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=t(60),r=t(0),a=(t.n(r),t(62)),o=t.n(a),i=r.useState,u=r.useEffect,c=r.useMemo;n.default=function(){var e=i(!1),n=e[0],t=e[1],a=i([""]),s=a[0],p=a[1],b=i([{type:"",label:"0"}]),m=b[0],f=b[1],y=i(0),_=y[0],d=y[1],h=i(!1),x=h[0],g=h[1],k=["0","1","2","3","4","5","6","7","8","9"];function v(e){void 0===e&&(e=!0);var n="",t=E(),l=t.num0,r=t.num1,a=t.char;if("add"===a.type&&(n=+l+ +r),"minus"===a.type&&(n=+l-+r),"mul"===a.type&&(n=+l*+r),"divide"===a.type&&(n=+l/+r),"residue"===a.type&&(n=+l%+r),d(+n),e){f([{type:"number",label:n+""}]);var o=s,i=m.map(function(e){return e.label}).join("");o.push(i+" = "+_),p(o)}return{type:"number",label:n+""}}function E(){var e=m.findIndex(function(e){return"number"!==e.type});if(e>=0&&e!==m.length-1){var n=[m.slice(0,e).map(function(e){return e.label}),m.slice(e+1,m.length).map(function(e){return e.label})],t=m.slice(e,e+1)[0];return{num0:n[0].reduce(function(e,n){return e+n},""),num1:n[1].reduce(function(e,n){return e+n},""),char:t}}return e<0?{num0:m.reduce(function(e,n){return e+n.label},""),num1:"",char:{type:"",label:"0"}}:e===m.length-1?(m.pop(),{num0:m.reduce(function(e,n){return e+n.label},""),num1:"",char:{type:"",label:"0"}}):{num0:"",num1:"",char:{type:"number",label:"0"}}}return u(function(){},[]),c(function(){console.log("show: ",JSON.stringify(m))},[m]),r.createElement("div",{className:o.a.caculator},r.createElement("section",{className:o.a.display},r.createElement("div",{className:o.a.title},r.createElement("span",null,"\u7b80\u6613\u8ba1\u7b97\u5668"),r.createElement("span",{onClick:function(){return t(!0)}},"\u5386\u53f2\u7eaa\u5f55")),r.createElement("div",{className:o.a["number-block"]},m.map(function(e,n){return r.createElement("span",{key:n,className:"number"===e.type?o.a.number:o.a.char},e.label)})),r.createElement("div",{className:o.a.result},_),r.createElement("div",{className:o.a.textinfo},"\u221a\uff0cx\xb2\uff0c\xb9/x\uff1a\u8fd9\u51e0\u4e2a\u8bf7\u5148\u8f93\u5165\u6570\u5b57\u518d\u8fd0\u7b97\uff01")),n&&r.createElement("section",{className:o.a.history},r.createElement("div",{className:o.a["history-content"]},s.map(function(e,n){return r.createElement("div",{key:n},e)}),r.createElement("div",{className:o.a.close,onClick:function(){return t(!1)}},"\u5173\u95ed"))),r.createElement("section",{className:o.a["num-content"]},[[{type:"residue",label:"%"},{type:"sqrt",label:"\u221a"},{type:"square",label:"x\xb2"},{type:"fraction-of",label:"\xb9/x"}],[{type:"CE",label:"CE"},{type:"C",label:"C"},{type:"DELETE",label:"DELETE"},{type:"divide",label:"\xf7"}],[{type:"number",label:"7"},{type:"number",label:"8"},{type:"number",label:"9"},{type:"mul",label:"x"}],[{type:"number",label:"4"},{type:"number",label:"5"},{type:"number",label:"6"},{type:"minus",label:"-"}],[{type:"number",label:"1"},{type:"number",label:"2"},{type:"number",label:"3"},{type:"add",label:"+"}],[{type:"pm",label:"\xb1"},{type:"number",label:"0"},{type:"number",label:"."},{type:"equal",label:"="}]].map(function(e,n){return r.createElement("div",{className:o.a["num-block"],key:n},e.map(function(e,n){return r.createElement("span",{key:n,className:o.a["btn-item"]+" "+(k.includes(e.label)?o.a["num-item"]:""),onClick:function(){return function(e){return l.a(this,void 0,void 0,function(){var n,t,r,a,o;return l.c(this,function(l){switch(l.label){case 0:return n=m,t=["add","minus","mul","divide","residue"],["sqrt","square","fraction-of"].includes(e.type)&&""!==n[0].label?("number"!==n[n.length-1].type&&n.pop(),"number"===n[n.length-1].type&&n.find(function(e){return"number"!==e.type})?(o=v(),[4,f([o])]):[3,2]):[3,3];case 1:l.sent(),l.label=2;case 2:r=E().num0,a={sqrt:{result:Math.sqrt(+r),show:[{type:"number",label:""+Math.sqrt(+r)}]},square:{result:+r*+r,show:[{type:"number",label:""+ +r*+r}]},"fraction-of":{result:1/+r,show:[{type:"number",label:""+1/+r}]}},d(a[e.type].result),f(a[e.type].show),l.label=3;case 3:if(t.includes(e.type)&&"number"===n[0].type&&(g(!1),"number"!==n[m.length-1].type?(n[m.length-1]=e,f(n.slice())):n.find(function(e){return"number"!==e.type})?(o=v(),f([o,e])):"."===n[m.length-1].label?(n.pop(),f(n.slice())):(n.push(e),f(m.slice()))),"C"===e.type&&(n.length=0,d(0),f([{type:"",label:"0"}])),"DELETE"===e.type&&(n.length>1?n.pop():n=[{type:"",label:"0"}],f(n.slice())),"number"===e.type){if(x)return d(+e.label),f([e]),g(!1),[2];"0"===n[0].label?n[0]=e:n.push(e),f(n.slice()),n.find(function(e){return"number"!==e.type})&&"number"===n[n.length-1].type&&v(!1)}if("equal"===e.type){if("number"!==n[n.length-1].type||!n.find(function(e){return"number"!==e.type}))return[2];v(),g(!0)}return[2]}})})}(e)}},e.label)}))})))}},60:function(e,n,t){"use strict";n.b=function(e,n){function t(){this.constructor=e}l(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},n.a=function(e,n,t,l){return new(t||(t=Promise))(function(r,a){function o(e){try{u(l.next(e))}catch(e){a(e)}}function i(e){try{u(l.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,i)}u((l=l.apply(e,n||[])).next())})},n.c=function(e,n){var t,l,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,l&&(r=2&a[0]?l.return:a[0]?l.throw||((r=l.return)&&r.call(l),0):l.next)&&!(r=r.call(l,a[1])).done)return r;switch(l=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,l=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],l=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};var l=function(e,n){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)}},62:function(e,n,t){var l=t(63);"string"===typeof l&&(l=[[e.i,l,""]]);var r={hmr:!0,transform:void 0};t(53)(l,r);l.locals&&(e.exports=l.locals)},63:function(e,n,t){(n=e.exports=t(52)(void 0)).push([e.i,".caculator__1DngpO {\n  height: 100vh;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  color: #2b2b2b;\n  background: #fafafa; }\n\n.display__16vX4P {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 8px;\n  text-align: right;\n  font-size: 22px; }\n  .display__16vX4P .title__24hPgW {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: justify;\n        justify-content: space-between;\n    padding: 6px;\n    margin-bottom: 20px;\n    font-size: 18px; }\n  .display__16vX4P .number-block__2JzyMn {\n    padding: 0 6px;\n    background: #fff; }\n    .display__16vX4P .number-block__2JzyMn .number__uq7p15 {\n      display: inline-block; }\n    .display__16vX4P .number-block__2JzyMn .char__DdMdM6 {\n      margin: 0 2px; }\n  .display__16vX4P .result__3YWEcH {\n    padding: 0 6px;\n    padding-top: 20px;\n    color: #888;\n    background: #fff; }\n  .display__16vX4P .textinfo__7akZ0L {\n    padding: 6px;\n    color: #999;\n    font-size: 14px;\n    text-align: left; }\n\n.history__1Oyyy6 {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 10; }\n  .history__1Oyyy6 .history-content__3W5iVk {\n    width: 90%;\n    max-height: 80%;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    padding: 10px;\n    background: #fff; }\n    .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5 {\n      width: 100%;\n      display: block;\n      position: absolute;\n      bottom: -20px;\n      left: 0;\n      right: 0;\n      margin: 0 auto;\n      padding: 10px;\n      text-align: center;\n      background: #fff;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none; }\n      .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5:active {\n        background: #fafafa; }\n      .history__1Oyyy6 .history-content__3W5iVk .close__1TXiA5::before {\n        content: '';\n        width: 100%;\n        height: 1px;\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        -webkit-transform: scale(1, 0.5);\n            -ms-transform: scale(1, 0.5);\n                transform: scale(1, 0.5);\n        background: #eee; }\n\n.num-content__2EUxaQ {\n  background: #fff; }\n  .num-content__2EUxaQ .num-block__oRueSE {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: justify;\n        justify-content: space-between; }\n    .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb {\n      -ms-flex: 1 1;\n          flex: 1 1;\n      padding: 16px 0;\n      text-align: center;\n      font-size: 20px;\n      -webkit-user-select: none;\n         -moz-user-select: none;\n          -ms-user-select: none;\n              user-select: none;\n      border-top: 1px solid #eee;\n      background: #fafafa; }\n      .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb:not(:last-of-type) {\n        border-right: 1px solid #eee; }\n      .num-content__2EUxaQ .num-block__oRueSE .btn-item__2606Hb:active {\n        background: lightcyan; }\n    .num-content__2EUxaQ .num-block__oRueSE .num-item__3myDPg {\n      background: #fff; }\n",""]),n.locals={caculator:"caculator__1DngpO",display:"display__16vX4P",title:"title__24hPgW","number-block":"number-block__2JzyMn",number:"number__uq7p15",char:"char__DdMdM6",result:"result__3YWEcH",textinfo:"textinfo__7akZ0L",history:"history__1Oyyy6","history-content":"history-content__3W5iVk",close:"close__1TXiA5","num-content":"num-content__2EUxaQ","num-block":"num-block__oRueSE","btn-item":"btn-item__2606Hb","num-item":"num-item__3myDPg"}}});
//# sourceMappingURL=1.96c7e939.chunk.js.map